(self.webpackChunksite=self.webpackChunksite||[]).push([[8020],{8613:(e,s,t)=>{"use strict";t.r(s),t.d(s,{data:()=>a});const a={key:"v-1e2703d8",path:"/plugin/list/smart-debug.html",title:"smart-debug",lang:"zh-CN",frontmatter:{title:"smart-debug",order:4},excerpt:"",headers:[{level:2,title:"Install",slug:"install",children:[]},{level:2,title:"Usage",slug:"usage",children:[]}],filePathRelative:"plugin/list/smart-debug.md",git:{updatedTime:1621428933e3,contributors:[]}}},8814:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});const a=(0,t(6252).uE)('<p>用于 debug 调试，常见于线上环境加载本地 assets 资源进行调试的场景：</p><ul><li>开启调试后，可以指定页面加载本地 assets 资源</li></ul><h2 id="install"><a class="header-anchor" href="#install">#</a> Install</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">npm</span> i -save-dev build-plugin-smart-debug\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="usage"><a class="header-anchor" href="#usage">#</a> Usage</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;build-plugin-smart-debug&quot;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>访问链接中开启 debug 调试，设置 <code>smartDebug=true</code> 进行开启</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://example.com/?smartDebug=true\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>开启后页面将默认加载本地入口脚本 <code>127.0.0.1:3333/build/js/index.js</code>，<code>__webpack_public_path__</code> 将会变为 <code>127.0.0.1:3333/build/</code>。</p><blockquote><p>默认加载的脚本地址，将会受 <code>build.json</code> 中的 <code>outputDir</code> 和 <code>outputAssetPath.js</code> 配置影响，即默认入口文件路径规则 <code>${outputDir}/${outputAssetPath.js}/index.js</code>。 对应入口 css 文件的规则为 <code>${outputDir}/${outputAssetPath.css}/index.css</code>，<code>build-plugin-smart-debug</code> 插件会自动通过 js 路径按规则替换并推导出 css 路径地址并进行自动加载。</p></blockquote><p>支持定制的参数包括：</p><ul><li>调试端口：<code>debugPort</code>，例如设置调试 8080 端口，<code>debugPort=8080</code>，默认端口为：3333</li><li>入口脚本路径：<code>debugPath</code>，<code>debugPath=/build/index.js</code>，页面将加载 <code>127.0.0.1:8080/build/index.js</code></li><li>资源输出路径：<code>outputPath</code>，<code>outputPath=dist</code>，即 runtime 的 publicPath 将会变成 <code>127.0.0.1:8080/dist/</code>，<code>outputPath</code> 默认读取 <code>build.json</code> 中的 <code>outputDir</code>，如果不需要可以设置为 <code>outputPath=</code></li></ul><p>如想加载的入口地址为 <code>127.0.0.1:8080/dist/index.js</code>， <code>__webpack_public_path__</code>路径为 <code>127.0.0.1:8080/dist/</code>，则可以在 url 中进行如下设置：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://example.com/?smartDebug=true&amp;debugPort=8080&amp;debugPath=/dist/index.js&amp;outputPath=dist\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',14),d={render:function(e,s){return a}}}}]);